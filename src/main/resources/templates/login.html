<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">


    <title>Demo</title>
    <meta name="author" content="ericyl">
    <link rel="stylesheet" th:href="@{bootstrap-4.3.1/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{demo/css/login.css}">
</head>
<body>
<!--th:action="@{/authentication/login}" method="post"-->
<form id="signInForm" class="form-signIn" th:action="@{/authentication/login}" method="post">
            <div class="alert alert-danger" th:if="${#httpSession != null && #httpSession.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}">
                错误信息：<span th:text="${#httpSession.getAttribute('SPRING_SECURITY_LAST_EXCEPTION')}"></span>;
    </div>
    <!--<div class=" alert alert-danger invisible" id="alert-error">-->
    <!--错误代码：<span id="error-message-code"></span>-->
    <!--<p id="error-message"></p>-->
    <!--</div>-->
    <h1 class="h3 mb-3 font-weight-normal text-center">RBAC DEMO</h1>

    <label for="inputUsername" class="sr-only">请输入用户名</label>
    <input type="text" name="username" id="inputUsername" class="form-control" placeholder="请输入用户名" required
           autofocus>

    <label for="inputPassword" class="sr-only">请输入密码</label>
    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="请输入密码" required>
    <div class="invalid-feedback">
        用户名或密码不能为空！
    </div>
    <label for="inputImageCode" class="sr-only">请输入验证码</label>
    <div class="form-inline">
        <input type="text" name="imageCode" id="inputImageCode" class="form-control" placeholder="请输入验证码" required>
        <img id="imageCode" src="/code/image" style="margin-left: 10px" height="30px"
             onclick="imageCodeClick()">
        <div class="invalid-feedback">
            请输入验证码！
        </div>
    </div>
    <div class="checkbox mb-3 text-left" style="margin-top: 5px">
        <label>
            <input type="checkbox" name="remember-me"> 记住我
        </label>
    </div>
    <button class="btn btn-lg btn-primary btn-block" type="submit">登录</button>
    <p class="mt-5 mb-3 text-muted text-center">ericyl &copy; 2019</p>
</form>
<script th:src="@{jquery-3.3.1/jquery.js}" type="text/javascript"></script>
<script th:src="@{bootstrap-4.1.3/js/bootstrap.js}" type="text/javascript"></script>
<script type="text/javascript">

    function imageCodeClick() {
        $("#imageCode").attr("src", "/code/image");
    }

</script>
</body>
</html>